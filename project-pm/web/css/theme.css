/* تم إضافة استيراد الخط لضمان تجانس الطباعة عبر الصفحات */
@import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');

:root{
  --bg:#f5f7fb;
  --card:#ffffff;
  --text:#1f2430;
  --muted:#98a2b3;
  --primary:#1c71d8;
  --primary-700:#184f96;
  --ring:#e7ecf5;
  --success:#27ae60;
  --warning:#f2994a;
  --danger:#eb5757;
  --shadow:0 8px 24px rgba(28,113,216,.08);
  --radius:14px;
  --maxw:1280px;
}
[data-theme="dark"]{
  --bg:#0f1522;
  --card:#141b2c;
  --text:#e8ecf6;
  --muted:#9aa7c0;
  --ring:#24324a;
  --primary:#6aa9ff;
  --primary-700:#9bc1ff;
  --shadow:0 10px 30px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;background:var(--bg);color:var(--text);
  font-family:"Tajawal",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans Arabic",sans-serif;
  direction:rtl; line-height:1.6;
}

/* Typography */
h1,h2,h3,h4{margin:0 0 10px 0;font-weight:800}
p{margin:0 0 10px 0}
.small{font-size:12px;color:var(--muted)}

/* Container/Layout */
.container{max-width:var(--maxw);margin:0 auto;padding:16px}
.layout{display:grid;grid-template-columns:280px 1fr;min-height:100vh;gap:16px}
aside{
  background:var(--card);border-left:1px solid var(--ring);
  padding:24px 16px;display:flex;flex-direction:column;gap:18px
}
.brand{display:flex;align-items:center;gap:12px;padding:6px 10px 16px;border-bottom:1px dashed var(--ring)}
.brand-logo {
  width: 64px;
  height: 64px;
  border-radius: 16px;
  display: grid;
  place-items: center;
  color: #fff;
  font-weight: 800;
  background: radial-gradient(100% 100% at 70% 25%, #5ec3ff 0%, #1c71d8 60%, #0b2e66 100%);
  box-shadow: 0 8px 20px rgba(44,114,246,.2);
  transition: all 0.3s ease;
  object-fit: cover;
}

.brand-logo:hover {
  transform: scale(1.05);
  box-shadow: 0 12px 30px rgba(44,114,246,.3);
}

.brand-logo img {
  width: 100%;
  height: 100%;
  border-radius: inherit;
  object-fit: cover;
}

/* Responsive logo sizing */
@media (max-width: 1100px) {
  .brand-logo {
    width: 56px;
    height: 56px;
    border-radius: 14px;
  }
}

@media (max-width: 780px) {
  .brand-logo {
    width: 48px;
    height: 48px;
    border-radius: 12px;
  }
}

@media (max-width: 480px) {
  .brand-logo {
    width: 40px;
    height: 40px;
    border-radius: 10px;
  }
}

/* Fallback styling for missing logo images */
.brand-logo[src*=".png"]:not([src]),
.brand-logo[src*=".jpg"]:not([src]),
.brand-logo[src*=".svg"]:not([src]) {
  background: radial-gradient(100% 100% at 70% 25%, #5ec3ff 0%, #1c71d8 60%, #0b2e66 100%);
  display: grid;
  place-items: center;
  font-size: 20px;
  content: "BL";
}

/* Dark theme adjustments */
[data-theme="dark"] .brand-logo {
  box-shadow: 0 8px 20px rgba(44,114,246,.4);
}

[data-theme="dark"] .brand-logo:hover {
  box-shadow: 0 12px 30px rgba(44,114,246,.5);
}
.brand h1{font-size:18px;margin:0}
nav ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:6px}
nav a{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--text);padding:10px;border-radius:12px;font-weight:600}
nav a.active,nav a:hover{background:linear-gradient(135deg,#e9f2ff,#dce9ff);color:var(--primary-700)}
[data-theme="dark"] nav a.active,[data-theme="dark"] nav a:hover{background:#1d2a40;color:#cfe0ff}
.logout{margin-top:auto;display:block;color:#b42318;font-weight:700;text-decoration:none;padding:10px 12px;border-radius:12px;background:#fff1f1;border:1px solid #ffdede}
[data-theme="dark"] .logout{background:#2a1111;border-color:#3a1a1a;color:#ffb4b4}

main{padding:0 0 28px}
header{
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 16px;margin:0 0 16px;background:var(--card);border-radius:14px;box-shadow:var(--shadow);
}
.header-actions{display:flex;gap:10px}
.title{font-weight:800;margin:0}

/* Cards & KPI */
.content{display:grid;gap:16px}
.kpis{display:grid;gap:16px;grid-template-columns:repeat(3,minmax(0,1fr))}
.card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
.kpi{display:flex;align-items:center;gap:14px;border:1px solid var(--ring);border-radius:14px;padding:12px;min-height:82px}
.kpi .icon{width:42px;height:42px;border-radius:12px;display:grid;place-items:center;background:#e7f1ff}
[data-theme="dark"] .kpi .icon{background:#1d2a40}
.kpi .meta{display:grid}
.value{font-weight:800;font-size:18px}
.label{color:var(--muted);font-size:13px}

/* Grid panels */
.grid{display:grid;gap:16px;grid-template-columns:360px 1fr;align-items:stretch}
.chart-title{margin:0 0 10px;font-weight:800}

/* Tables */
.table-card .title-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.table-card .table-scroll{overflow-x:auto}
table{width:100%;border-collapse:separate;border-spacing:0 10px;table-layout:fixed}
thead th{text-align:right;color:#667085;font-weight:700;font-size:13px;padding:6px 12px;white-space:nowrap}
tbody tr{background:var(--card);box-shadow:var(--shadow)}
tbody td{padding:14px 12px;border-top:1px solid var(--ring);border-bottom:1px solid var(--ring);vertical-align:middle}
tbody td:first-child{border-radius:12px 0 0 12px;border-inline-start:1px solid var(--ring)}
tbody td:last-child{border-radius:0 12px 12px 0;border-inline-end:1px solid var(--ring)}
td.phone{direction:ltr;text-align:right}
.status{padding:4px 10px;border-radius:999px;font-weight:700;font-size:12px;border:1px solid transparent}
.status.active{background:#e9fbf1;color:#16784e;border-color:#b6e9c9}
.status.inactive{background:#fff0f0;color:#b42318;border-color:#ffd3d3}

/* Buttons */
.btn{background:var(--primary);color:#fff;border:none;border-radius:10px;padding:8px 12px;font-weight:700;cursor:pointer;box-shadow:0 4px 12px rgba(28,113,216,.25)}
.btn.secondary{background:transparent;color:var(--primary);border:1px solid #cfe0ff}
[data-theme="dark"] .btn.secondary{border-color:#2a3b5a;color:#cfe0ff}
.btn.small{padding:6px 10px;border-radius:8px}
.btn.danger{background:var(--danger)}

/* Modal */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);display:flex;align-items:center;justify-content:center;z-index:1000;padding:16px}
.modal{width:min(880px, 96vw);background:var(--card);border:1px solid var(--ring);border-radius:16px;box-shadow:var(--shadow);overflow:hidden}
.modal header{display:flex;align-items:center;justify-content:space-between;background:transparent;margin:0;border-bottom:1px solid var(--ring)}
.modal .body{padding:16px}
.modal footer{display:flex;gap:8px;justify-content:flex-end;padding:0 16px 16px}

/* Forms */
.form-grid{display:grid;gap:12px;grid-template-columns:repeat(2,minmax(0,1fr))}
.form-grid .input,.form-grid .select{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--ring);background:var(--card);color:var(--text)}
.form-grid .lbl{display:block;margin-bottom:6px;font-weight:700}

/* Responsive */
@media (max-width:1100px){
  .layout{grid-template-columns:84px 1fr}
  aside{padding:18px 10px}
  .brand h1{display:none}
  nav a{justify-content:center}
  .grid{grid-template-columns:1fr}
  .kpis{grid-template-columns:1fr 1fr}
}
@media (max-width:780px){
  .kpis{grid-template-columns:1fr}
  .form-grid{grid-template-columns:1fr}
}